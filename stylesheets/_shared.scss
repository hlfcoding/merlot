// primary accent color range
$accent-color-1: #7c334f;
$accent-color-1-light-1: #cd596b;
$accent-color-1-light-2: #e69b95;

// secondary accent color range
$accent-color-2: #417090;
$accent-color-2-light-0: #5b7e99;
$accent-color-2-light-1: #7eb0d2;
$accent-color-2-light-2: #8b786f;
$accent-color-2-light-3: #83b7da;
$accent-color-2-dark-1: #3d667c;

// base color range, constrained to a dark-on-light theme
$canvas-color: #ece4d8;
$canvas-color-dark-0: #d3ccc1;
$canvas-color-dark-1: #bdb6ad;
$canvas-color-dark-2: #8b786f;
$canvas-color-dark-3: #544943;
$canvas-color-light-1: #fff6e9;
$canvas-color-light-2: #fffff3;

// font sizes
$base-line-height: 1.5;
$full-font-size: 15px;
$full-font-size-monospace: 12px;
$mobile-font-size: 13px;
$mobile-font-size-monospace: 11px;

// layout sizes
$full-wrapper-width: 800px;

$pod-wrapper-width: 320px; // iPhone 5; running out of names, I guess this size
                           // is more for iPods these days.
$phone-wrapper-width: 375px; // iPhone 6
$phablet-wrapper-width: 414px; // iPhone 6+
$tablet-wrapper-width: 600px; // Nexus 7
$desktop-wrapper-width: $full-wrapper-width;

// spacing sizes
$x-spacing-1: 0.666rem;
$x-spacing-2: 1rem;
$x-spacing-3: 1.333rem;
$x-spacing-4: 0.333rem;

$y-spacing-1: 0.666rem;
$y-spacing-2: 1rem;
$y-spacing-3: 1.333rem;

// headline font
$font-family-1: 'Open Sans', Myriad, Calibri, sans-serif;
// caption font
$font-family-2: Georgia, Times, 'Times New Roman', serif;
// monospace font
$font-family-3: 'Lucida Sans Typewriter', 'Lucida Console', Monaco, 'Bitstream Vera Sans Mono', monospace;

%clearfix {
  &:before, &:after { content: ' '; display: table; }
  &:after { clear: both; }
}

@mixin ribbon-tails($height, $width, $shadow-offset, $backface-hint-size,
                    $backface-hint-x-offset, $backface-hint-y-offset,
                    $bg-color: $canvas-color,
                    $from-angle: bottom,
                    $ribbon-color: $accent-color-1)
{
  $color: darken($ribbon-color, 7%);
  $shadow-color: darken($color, 7%);
  $x-offset: round($width * 0.55);
  $y-offset: round($height * 0.35);
  .left-tail, .right-tail {
    border: {
      color: transparent;
      style: solid;
      top-width: round($height / 2); bottom-width: round($height / 2);
    }
    position: absolute;
    width: 0; height: 0;
    z-index: 0;
    @if $from-angle == bottom {
      bottom: -$y-offset;
    } @else if $from-angle == top {
      top: -$y-offset;
    }
    /* backface depth hint */
    &:after {
      $size: $backface-hint-size;
      border: {
        color: $shadow-color;
        style: solid;
        width: $backface-hint-size / 2;
      }
      content: ' ';
      display: block;
      position: absolute;
      width: 0; height: 0;
      @if $from-angle == bottom {
        border-bottom-color: transparent;
        top: $backface-hint-y-offset;
      } @else if $from-angle == top {
        border-top-color: transparent;
        bottom: $backface-hint-y-offset;
      }
    }
  }
  .left-tail {
    border: {
      left-width: round($width / 3);
      right-width: round($width * 2 / 3);
    }
    left: -$x-offset;
    /* backface depth hint */
    &:after {
      border-left-color: transparent;
      left: $backface-hint-x-offset;
    }
  }
  .right-tail {
    border: {
      left-width: round($width * 2 / 3);
      right-width: round($width / 3);
    }
    right: -$x-offset;
    /* backface depth hint */
    &:after {
      border-right-color: transparent;
      right: $backface-hint-x-offset;
    }
  }
  @include non-mobile {
    .left-tail, .right-tail {
      background: {
        color: $color;
        clip: border-box; // be explicit
      }
      box-shadow: 0 $shadow-offset 0 $canvas-color-dark-1;
    }
    .left-tail {
      border-left-color: $bg-color;
    }
    .right-tail {
      border-right-color: $bg-color;
    }
  }
}

// media mixins

// unfortunately the design requires some hard-coded widths,
// so more breakpoints are needed.

@mixin desktop {
  @media screen and (min-width: $desktop-wrapper-width) {
    @content;
  }
}
@mixin tablet {
  @media screen and (min-width: $tablet-wrapper-width) and (max-width: $desktop-wrapper-width) {
    @content;
  }
}
@mixin phablet {
  @media screen and (min-width: $phablet-wrapper-width) and (max-width: $tablet-wrapper-width) {
    @content;
  }
}
@mixin phone {
  @media screen and (min-width: $phone-wrapper-width) and (max-width: $phablet-wrapper-width) {
    @content;
  }
}
@mixin pod {
  @media screen and (max-width: $phone-wrapper-width) {
    @content;
  }
}
@mixin non-mobile {
  @media screen and (min-width: $tablet-wrapper-width) {
    @content;
  }
}
@mixin mobile {
  @media screen and (max-width: $tablet-wrapper-width) {
    @content;
  }
}
@mixin retina {
  @media screen and (min-resolution: 2dppx), screen and (min-resolution: 120dpi) {
    @content;
  }
}
